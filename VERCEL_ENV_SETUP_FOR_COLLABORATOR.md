# Vercel プロジェクト共有時の環境変数設定方法

## 📋 状況

Vercel プロジェクトが友人のアカウントが主で、あなたが共有されている場合の環境変数設定方法です。

## 🔑 方法 1: あなたが直接設定できる場合（推奨）

### 確認手順

1. **Vercel Dashboard にアクセス**

   - https://vercel.com/dashboard にログイン
   - プロジェクトを選択

2. **Settings → Environment Variables** に移動

   - もし「Environment Variables」セクションが表示され、編集できる場合は、そのまま設定できます

3. **環境変数を追加**
   ```
   HIDDEN_KEYWORDS=死にたい,自殺
   ```
   - Environment: **Production** を選択
   - Save をクリック

### 権限がない場合

もし「Permission denied」や編集できない場合は、**方法 2**を参照してください。

## 👥 方法 2: 友人のアカウントで設定してもらう

友人のアカウントでログインして設定してもらう必要があります。

### 依頼する内容

以下の手順を友人に伝えてください：

1. **Vercel Dashboard にアクセス**

   - https://vercel.com/dashboard にログイン
   - プロジェクト（`chat-app`など）を選択

2. **Settings → Environment Variables** に移動

3. **新しい環境変数を追加**

   - **Key**: `HIDDEN_KEYWORDS`
   - **Value**: `死にたい,自殺`（または必要なキーワードをカンマ区切りで）
   - **Environment**: **Production** を選択
   - **Save** をクリック

4. **再デプロイが必要**
   - 環境変数を追加した後、**Deployments** タブから最新のデプロイを選び
   - **Redeploy** をクリック
   - または、コードを少し変更して Git にプッシュ（自動デプロイ）

## 📝 方法 3: メッセージテンプレート（友人に送る用）

もし友人に依頼する場合、以下のようなメッセージを送ることができます：

```
【Vercel環境変数の設定依頼】

以下の環境変数を設定してもらえますか？

1. Vercel Dashboard → [プロジェクト名] → Settings → Environment Variables
2. 以下の環境変数を追加：
   - Key: HIDDEN_KEYWORDS
   - Value: 死にたい,自殺
   - Environment: Production
3. Save をクリック
4. 再デプロイ（Redeploy）を実行

設定後、本番環境で非表示機能が有効になります。
```

## 🔍 権限の確認方法

### あなたの権限を確認

1. Vercel Dashboard → プロジェクト → Settings → General
2. **Team Members** セクションを確認
3. あなたの権限が表示されます：
   - **Owner**: 全ての権限あり（環境変数も設定可能）
   - **Admin**: 環境変数の設定可能
   - **Member**: 権限が限定的（環境変数は設定できない可能性）

### 権限が不足している場合

プロジェクトのオーナー（友人）に以下を依頼：

- あなたの権限を **Admin** に上げてもらう
- または、環境変数を設定してもらう

## ✅ 設定後の確認

環境変数が設定されたら、以下で確認できます：

1. **管理画面にアクセス**

   ```
   https://あなたのドメイン/admin/hide-by-keywords
   ```

2. **「🔍 検索（ドライラン）」をクリック**

   - キーワードが正しく読み込まれているか確認
   - エラーが出ないか確認

3. **本番環境でテスト**
   - キーワードを含むメッセージを送信して、自動的に非表示になるか確認

## 🚨 トラブルシューティング

### 環境変数が反映されない

- 環境変数を設定した後、**必ず再デプロイ**が必要です
- 最新のデプロイログを確認して、環境変数が読み込まれているか確認

### 権限エラー

- プロジェクトのオーナーに権限の確認を依頼
- または、環境変数の設定を依頼

## 📌 まとめ

**最速の方法**: 友人のアカウントで環境変数を設定してもらう（方法 2）

**長期的な方法**: あなたの権限を Admin に上げてもらう（方法 3）
